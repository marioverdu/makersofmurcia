@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom grunge theme with red, white, black color scheme */
:root {
  --background: #ffe5db; /* Light peach background */
  --foreground: oklch(0 0 0); /* Pure black */
  --card: oklch(1 0 0);
  --card-foreground: oklch(0 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0 0 0);
  --primary: oklch(0.55 0.22 29); /* Vibrant red #FF0000 */
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0 0 0); /* Black */
  --secondary-foreground: oklch(1 0 0);
  --muted: oklch(0.95 0 0);
  --muted-foreground: oklch(0.4 0 0);
  --accent: oklch(0.85 0.15 95); /* Neon yellow */
  --accent-foreground: oklch(0 0 0);
  --destructive: oklch(0.55 0.22 29);
  --destructive-foreground: oklch(1 0 0);
  --border: oklch(0 0 0);
  --input: oklch(0.95 0 0);
  --ring: oklch(0.55 0.22 29);
  --chart-1: oklch(0.55 0.22 29);
  --chart-2: oklch(0 0 0);
  --chart-3: oklch(0.85 0.15 95);
  --chart-4: oklch(0.6 0.18 200);
  --chart-5: oklch(0.7 0.12 150);
  --radius: 0rem;
  --sidebar: oklch(1 0 0);
  --sidebar-foreground: oklch(0 0 0);
  --sidebar-primary: oklch(0.55 0.22 29);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.95 0 0);
  --sidebar-accent-foreground: oklch(0 0 0);
  --sidebar-border: oklch(0 0 0);
  --sidebar-ring: oklch(0.55 0.22 29);
}

.dark {
  --background: #ffe5db; /* Light peach background */
  --foreground: oklch(1 0 0);
  --card: oklch(0.1 0 0);
  --card-foreground: oklch(1 0 0);
  --popover: oklch(0.1 0 0);
  --popover-foreground: oklch(1 0 0);
  --primary: oklch(0.55 0.22 29);
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.2 0 0);
  --secondary-foreground: oklch(1 0 0);
  --muted: oklch(0.2 0 0);
  --muted-foreground: oklch(0.6 0 0);
  --accent: oklch(0.85 0.15 95);
  --accent-foreground: oklch(0 0 0);
  --destructive: oklch(0.55 0.22 29);
  --destructive-foreground: oklch(1 0 0);
  --border: oklch(0.2 0 0);
  --input: oklch(0.2 0 0);
  --ring: oklch(0.55 0.22 29);
  --chart-1: oklch(0.55 0.22 29);
  --chart-2: oklch(0.3 0 0);
  --chart-3: oklch(0.85 0.15 95);
  --chart-4: oklch(0.6 0.18 200);
  --chart-5: oklch(0.7 0.12 150);
  --sidebar: oklch(0.1 0 0);
  --sidebar-foreground: oklch(1 0 0);
  --sidebar-primary: oklch(0.55 0.22 29);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.2 0 0);
  --sidebar-accent-foreground: oklch(1 0 0);
  --sidebar-border: oklch(0.2 0 0);
  --sidebar-ring: oklch(0.55 0.22 29);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  html {
    background-color: #ffe5db !important;
  }
  body {
    @apply bg-background text-foreground;
    background-color: #ffe5db !important;
  }
}

/* Custom grunge animations and effects */
@keyframes grain {
  0%,
  100% {
    transform: translate(0, 0);
  }
  10% {
    transform: translate(-5%, -10%);
  }
  20% {
    transform: translate(-15%, 5%);
  }
  30% {
    transform: translate(7%, -25%);
  }
  40% {
    transform: translate(-5%, 25%);
  }
  50% {
    transform: translate(-15%, 10%);
  }
  60% {
    transform: translate(15%, 0%);
  }
  70% {
    transform: translate(0%, 15%);
  }
  80% {
    transform: translate(3%, 35%);
  }
  90% {
    transform: translate(-10%, 10%);
  }
}

.grain-overlay {
  position: fixed;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.15;
  z-index: 9999;
  pointer-events: none;
  animation: grain 0.8s steps(4) infinite;
}

@keyframes float {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

@keyframes glitch {
  0% {
    transform: translate(0);
  }
  20% {
    transform: translate(-2px, 2px);
  }
  40% {
    transform: translate(-2px, -2px);
  }
  60% {
    transform: translate(2px, 2px);
  }
  80% {
    transform: translate(2px, -2px);
  }
  100% {
    transform: translate(0);
  }
}

/* Adding more grunge-specific effects for magazine/poster aesthetic */
@keyframes rotate-slow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes slide-diagonal {
  0%,
  100% {
    transform: translate(0, 0);
  }
  50% {
    transform: translate(10px, -10px);
  }
}

/* Halftone pattern utility */
.halftone-bg {
  background-image: radial-gradient(circle, black 1.5px, transparent 1.5px);
  background-size: 10px 10px;
}

/* Distressed border effect */
.distressed-border {
  position: relative;
}

.distressed-border::before {
  content: "";
  position: absolute;
  inset: -4px;
  background: repeating-linear-gradient(0deg, transparent 0px, transparent 2px, black 2px, black 3px);
  opacity: 0.3;
  pointer-events: none;
}

/* Magazine cutout text effect */
.cutout-text {
  background: linear-gradient(135deg, #ff0000 0%, #cc0000 50%, #ff0000 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  filter: drop-shadow(3px 3px 0px rgba(0, 0, 0, 0.8));
}

/* Vintage poster shadow */
.poster-shadow {
  box-shadow: 6px 6px 0px rgba(0, 0, 0, 1), 12px 12px 0px rgba(255, 0, 0, 0.3), 18px 18px 0px rgba(0, 0, 0, 0.1);
}

/* Ink splatter decoration */
.ink-splatter {
  position: relative;
}

.ink-splatter::after {
  content: "";
  position: absolute;
  width: 60px;
  height: 60px;
  background: radial-gradient(circle, currentColor 30%, transparent 70%);
  opacity: 0.15;
  filter: blur(8px);
  pointer-events: none;
}

/* Sticker/badge effect */
.sticker {
  position: relative;
  transform: rotate(-3deg);
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.sticker:hover {
  transform: rotate(0deg) scale(1.05);
}

.sticker::before {
  content: "";
  position: absolute;
  inset: -2px;
  border: 3px dashed rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  pointer-events: none;
}

/* Ripped paper edge effect */
.ripped-edge {
  position: relative;
  clip-path: polygon(
    0% 0%,
    2% 1%,
    4% 0%,
    6% 2%,
    8% 1%,
    10% 0%,
    12% 1%,
    14% 0%,
    16% 2%,
    18% 0%,
    20% 1%,
    22% 0%,
    24% 2%,
    26% 1%,
    28% 0%,
    30% 1%,
    32% 0%,
    34% 2%,
    36% 0%,
    38% 1%,
    40% 0%,
    42% 2%,
    44% 1%,
    46% 0%,
    48% 1%,
    50% 0%,
    52% 2%,
    54% 0%,
    56% 1%,
    58% 0%,
    60% 2%,
    62% 1%,
    64% 0%,
    66% 1%,
    68% 0%,
    70% 2%,
    72% 0%,
    74% 1%,
    76% 0%,
    78% 2%,
    80% 1%,
    82% 0%,
    84% 1%,
    86% 0%,
    88% 2%,
    90% 0%,
    92% 1%,
    94% 0%,
    96% 2%,
    98% 1%,
    100% 0%,
    100% 100%,
    0% 100%
  );
}

/* Collage overlap effect */
.collage-layer {
  position: relative;
  transform: rotate(-2deg);
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.collage-layer:hover {
  transform: rotate(0deg) translateY(-8px);
  z-index: 10;
}

.text-stroke {
  -webkit-text-stroke: 3px black;
  -webkit-text-fill-color: white;
  paint-order: stroke fill;
}

.text-stroke-red {
  -webkit-text-stroke: 3px black;
  -webkit-text-fill-color: oklch(0.55 0.22 29);
  paint-order: stroke fill;
}

/* Adding yellow stroke variant for more color variety */
.text-stroke-yellow {
  -webkit-text-stroke: 3px black;
  -webkit-text-fill-color: oklch(0.85 0.15 95);
  paint-order: stroke fill;
}

/* Adding double stroke effect for extra impact */
.text-stroke-double {
  -webkit-text-stroke: 4px black;
  -webkit-text-fill-color: white;
  paint-order: stroke fill;
  filter: drop-shadow(4px 4px 0px oklch(0.55 0.22 29));
}

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Glitch CRT Effect for Progressive Scan Transition */
.glitch-effect {
  animation: glitch-crt 1s ease-in-out;
  position: relative;
  overflow: hidden;
}

@keyframes glitch-crt {
  0% {
    transform: translateX(0) scaleY(1) skewX(0deg);
    filter: contrast(1) brightness(1) saturate(1);
    opacity: 1;
  }
  
  /* Fase 1: Interferencia inicial */
  5% {
    transform: translateX(-1px) scaleY(1.01) skewX(0.5deg);
    filter: contrast(1.1) brightness(1.05) saturate(1.1);
    opacity: 0.98;
  }
  
  /* Fase 2: Distorsión horizontal */
  10% {
    transform: translateX(2px) scaleY(0.99) skewX(-0.5deg);
    filter: contrast(1.2) brightness(1.1) saturate(1.2);
    opacity: 0.95;
  }
  
  /* Fase 3: Fragmentación vertical */
  15% {
    transform: translateX(-3px) scaleY(1.02) skewX(1deg);
    filter: contrast(1.3) brightness(1.2) saturate(1.3);
    opacity: 0.9;
  }
  
  /* Fase 4: Ruptura completa */
  20% {
    transform: translateX(4px) scaleY(0.98) skewX(-2deg);
    filter: contrast(1.5) brightness(1.3) saturate(1.5);
    opacity: 0.8;
  }
  
  /* Fase 5: Distorsión extrema */
  25% {
    transform: translateX(-5px) scaleY(1.05) skewX(3deg);
    filter: contrast(1.8) brightness(1.5) saturate(2);
    opacity: 0.7;
  }
  
  /* Fase 6: Fragmentación máxima */
  30% {
    transform: translateX(6px) scaleY(0.95) skewX(-4deg);
    filter: contrast(2) brightness(1.8) saturate(2.5);
    opacity: 0.6;
  }
  
  /* Fase 7: Ruptura crítica */
  35% {
    transform: translateX(-8px) scaleY(1.1) skewX(5deg);
    filter: contrast(2.5) brightness(2) saturate(3);
    opacity: 0.5;
  }
  
  /* Fase 8: Desintegración */
  40% {
    transform: translateX(10px) scaleY(0.9) skewX(-6deg);
    filter: contrast(3) brightness(2.5) saturate(4);
    opacity: 0.4;
  }
  
  /* Fase 9: Fragmentación final */
  45% {
    transform: translateX(-12px) scaleY(1.2) skewX(8deg);
    filter: contrast(4) brightness(3) saturate(5);
    opacity: 0.3;
  }
  
  /* Fase 10: Desvanecimiento */
  50% {
    transform: translateX(15px) scaleY(0.8) skewX(-10deg);
    filter: contrast(5) brightness(4) saturate(6);
    opacity: 0.2;
  }
  
  /* Fase 11: Ruptura total */
  60% {
    transform: translateX(-20px) scaleY(1.3) skewX(15deg);
    filter: contrast(6) brightness(5) saturate(8);
    opacity: 0.1;
  }
  
  /* Fase 12: Desintegración completa */
  70% {
    transform: translateX(25px) scaleY(0.7) skewX(-20deg);
    filter: contrast(8) brightness(6) saturate(10);
    opacity: 0.05;
  }
  
  /* Fase 13: Desaparición */
  80% {
    transform: translateX(-30px) scaleY(1.4) skewX(25deg);
    filter: contrast(10) brightness(8) saturate(12);
    opacity: 0.02;
  }
  
  /* Fase 14: Desvanecimiento final */
  90% {
    transform: translateX(35px) scaleY(0.6) skewX(-30deg);
    filter: contrast(15) brightness(10) saturate(15);
    opacity: 0.01;
  }
  
  /* Fase 15: Desaparición total */
  100% {
    transform: translateX(0) scaleY(1) skewX(0deg);
    filter: contrast(1) brightness(1) saturate(1);
    opacity: 0;
  }
}

/* Enhanced Progressive scan lines effect */
.glitch-effect::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    /* Líneas horizontales de escaneo - usando colores de la página */
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 1px,
      rgba(221, 22, 11, 0.1) 1px,
      rgba(221, 22, 11, 0.1) 2px
    ),
    /* Interferencia vertical - usando colores de la página */
    repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.05) 2px,
      rgba(0, 0, 0, 0.05) 3px
    );
  pointer-events: none;
  animation: scan-lines 0.05s linear infinite;
  z-index: 1;
}

.glitch-effect::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: 
    /* Ruido estático - usando colores de la página */
    radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
    radial-gradient(circle at 80% 80%, rgba(221, 22, 11, 0.1) 1px, transparent 1px),
    radial-gradient(circle at 40% 60%, rgba(0, 0, 0, 0.1) 1px, transparent 1px);
  background-size: 3px 3px, 5px 5px, 2px 2px;
  pointer-events: none;
  animation: static-noise 0.1s linear infinite;
  z-index: 2;
}

@keyframes scan-lines {
  0% {
    transform: translateY(0) scaleY(1);
    opacity: 1;
  }
  25% {
    transform: translateY(1px) scaleY(1.1);
    opacity: 0.8;
  }
  50% {
    transform: translateY(2px) scaleY(0.9);
    opacity: 0.6;
  }
  75% {
    transform: translateY(3px) scaleY(1.2);
    opacity: 0.4;
  }
  100% {
    transform: translateY(4px) scaleY(1);
    opacity: 1;
  }
}

@keyframes static-noise {
  0% {
    transform: translateX(0) translateY(0);
    opacity: 0.1;
  }
  25% {
    transform: translateX(1px) translateY(-1px);
    opacity: 0.2;
  }
  50% {
    transform: translateX(-1px) translateY(1px);
    opacity: 0.15;
  }
  75% {
    transform: translateX(2px) translateY(-2px);
    opacity: 0.25;
  }
  100% {
    transform: translateX(0) translateY(0);
    opacity: 0.1;
  }
}